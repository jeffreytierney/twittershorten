(function(){window.BITLY={shortenLink:function(b,a){jQuery.getJSON("http://api.bit.ly/v3/shorten?longUrl="+encodeURIComponent(b)+"&login=twittershorten&apiKey=R_bcfdce1ff4c58e5f6426cc312e2c0899&callback=?",a)},shorten:function(){jQuery("textarea").each(function(b,a){$(a).val()!=""&&BITLY.shortenAllLinks($(a))})},shortenAllLinks:function(b){var a=(b.val()+" ").match(RegExp("(http[s]*://[^ ]+)","gi"));if(a&&a.length)for(var d=0,f=a.length;d<f;d++)(function(e,g){g.shortenLink(e,function(c){c&&c.data&&
!c.errorCode&&c.data.long_url==e&&c.data.url&&b.val(b.val().replace(e,c.data.url))})})(a[d],this);return this}};window.BITLY.shorten()})();